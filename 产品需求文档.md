# 研发成本统计系统 - 产品需求文档

## 1. 产品概述

### 1.1 产品定位
研发成本统计系统是一个专门用于追踪和计算研发人员在各个项目上投入成本的管理平台。通过精确记录研发人员的工作时间和人工成本，系统能够自动计算每个项目需要分摊的研发费用，为项目成本管理和财务核算提供数据支撑。

### 1.2 核心价值
- **成本透明化**：清晰展示每个项目的研发成本构成
- **数据准确性**：基于实际工作时间进行成本分摊
- **管理效率**：自动化计算，减少人工核算工作量
- **决策支持**：为项目预算和资源分配提供数据依据

## 2. 用户角色定义

### 2.1 研发人员
- **主要职责**：记录个人在项目上的工作时间投入，填写日报周报
- **权限范围**：查看个人工作记录、项目参与情况
- **操作功能**：时间录入、工作内容记录、日报周报填写、个人统计查看

### 2.2 项目管理员
- **主要职责**：管理项目信息、审核时间记录、审核日报周报
- **权限范围**：查看项目内所有成员的工作记录和报告
- **操作功能**：项目创建、成员管理、时间审核、报告审核、项目成本查看

### 2.3 系统管理员
- **主要职责**：管理研发人员基础信息、人工成本设置
- **权限范围**：系统全局配置和用户管理
- **操作功能**：用户管理、成本参数设置、系统配置

### 2.4 财务管理员
- **主要职责**：查看成本统计、生成财务报告
- **权限范围**：查看所有项目和人员的成本数据
- **操作功能**：成本报表生成、数据导出、财务分析

## 3. 功能需求

### 3.1 用户管理模块
- **研发人员信息管理**
  - 基本信息：姓名、工号、部门、职位
  - 成本信息：时薪/月薪、成本计算方式
  - 状态管理：在职/离职状态

### 3.2 项目管理模块
- **项目基础信息**
  - 项目名称、编号、描述
  - 项目周期：开始时间、结束时间
  - 项目状态：进行中/已完成/已暂停
  - 项目预算：总预算、已使用预算

- **项目成员管理**
  - 成员分配：添加/移除项目成员
  - 角色设置：项目负责人、普通成员
  - 参与时间：成员在项目中的参与周期

### 3.3 时间记录模块
- **工作时间录入**
  - 日期选择：工作日期
  - 项目选择：选择参与的项目
  - 时间记录：开始时间、结束时间、工作时长
  - 工作内容：简要描述当日工作内容
  - 工作类型：开发/测试/文档/会议等

- **时间审核流程**
  - 提交审核：研发人员提交时间记录
  - 审核确认：项目管理员审核确认
  - 状态跟踪：待审核/已通过/已拒绝

### 3.4 日报周报模块
- **日报功能**
  - 日报填写：每日工作内容总结
  - 项目关联：关联当日参与的项目
  - 工作进度：记录各项目的工作进度
  - 问题记录：记录工作中遇到的问题
  - 明日计划：填写次日工作计划
  - 提交时间：每日下班前提交

- **周报功能**
  - 周报汇总：自动汇总本周日报内容
  - 项目统计：统计本周各项目投入时间
  - 工作成果：总结本周完成的工作成果
  - 下周计划：制定下周工作计划
  - 问题总结：汇总本周遇到的问题和解决方案
  - 提交时间：每周五下班前提交

- **报告审核流程**
  - 自动提交：系统自动提醒提交报告
  - 主管审核：直接主管审核日报/周报
  - 反馈机制：主管可对报告进行点评和反馈
  - 状态跟踪：待提交/已提交/已审核/需修改

### 3.5 成本计算模块
- **个人成本计算**
  - 基于时薪：工作时长 × 时薪
  - 基于月薪：月薪 ÷ 月标准工时 × 实际工时
  - 成本汇总：按项目、按时间段汇总

- **项目成本分摊**
  - 成员成本汇总：项目内所有成员成本之和
  - 时间比例计算：个人在项目中的时间占比
  - 成本分摊：按时间比例分摊到项目

### 3.6 报表统计模块
- **个人统计报表**
  - 个人工时统计：按项目、按时间段
  - 个人成本统计：收入成本分析
  - 工作效率分析：工时利用率
  - 日报周报统计：报告提交情况、内容质量分析

- **项目统计报表**
  - 项目成本明细：各成员成本构成
  - 项目进度成本：成本与进度对比
  - 项目预算执行：预算使用情况

- **全局统计报表**
  - 部门成本统计：各部门成本汇总
  - 时间成本趋势：成本变化趋势分析
  - 效率分析报告：整体效率指标
  - 团队工作报告：日报周报提交率、内容质量评估

## 4. 业务流程

### 4.1 时间记录流程
1. 研发人员每日/每周录入工作时间
2. 选择参与的项目和具体工作内容
3. 记录工作开始和结束时间
4. 提交时间记录等待审核
5. 项目管理员审核时间记录
6. 审核通过后计入成本计算

### 4.2 日报周报流程
1. 研发人员每日填写日报，记录当日工作内容
2. 系统自动关联当日的时间记录和项目信息
3. 研发人员填写工作进度、问题和明日计划
4. 每日下班前提交日报，系统发送提醒
5. 直接主管审核日报内容，提供反馈
6. 每周五自动汇总生成周报
7. 研发人员补充周报内容，提交审核
8. 主管审核周报，确认本周工作总结

### 4.3 成本计算流程
1. 系统管理员设置研发人员人工成本参数
2. 系统根据审核通过的时间记录计算个人成本
3. 按项目汇总各成员的成本投入
4. 计算项目总成本和成本构成
5. 生成成本报表供管理层查看

### 4.4 项目管理流程
1. 项目管理员创建新项目
2. 设置项目基本信息、预算和周期
3. 分配项目成员和角色
4. 成员开始记录项目工作时间
5. 定期查看项目成本执行情况
6. 项目结束后生成最终成本报告

## 5. 非功能需求

### 5.1 性能要求
- 系统响应时间：页面加载时间 < 3秒
- 数据处理能力：支持1000+用户同时在线
- 数据存储：支持5年历史数据存储

### 5.2 安全要求
- 用户认证：支持用户名密码登录
- 权限控制：基于角色的访问控制
- 数据安全：敏感数据加密存储
- 操作日志：记录所有关键操作

### 5.3 可用性要求
- 系统可用性：99.5%以上
- 数据备份：每日自动备份
- 故障恢复：支持快速数据恢复

## 6. 技术架构

### 6.1 前端技术
- 框架：React/Vue.js
- UI组件：Ant Design/Element UI
- 图表库：ECharts/D3.js

### 6.2 后端技术
- 开发语言：Java/Python/Node.js
- 数据库：MySQL/PostgreSQL
- 缓存：Redis
- 消息队列：RabbitMQ/Kafka

### 6.3 部署架构
- 容器化：Docker + Kubernetes
- 负载均衡：Nginx
- 监控：Prometheus + Grafana

## 7. 验收标准

### 7.1 功能验收
- [ ] 用户能够成功录入和审核工作时间
- [ ] 日报周报功能能够正常填写和审核
- [ ] 系统能够准确计算个人和项目成本
- [ ] 报表功能能够正确生成各类统计报表
- [ ] 权限控制能够正确限制用户访问范围

### 7.2 性能验收
- [ ] 系统能够支持1000+并发用户
- [ ] 页面响应时间在3秒以内
- [ ] 数据查询和报表生成速度满足要求

### 7.3 安全验收
- [ ] 用户认证和授权功能正常
- [ ] 敏感数据得到有效保护
- [ ] 操作日志完整记录